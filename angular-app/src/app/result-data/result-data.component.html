<!-- <p>Looking at: {{message}}</p> -->
<div *ngIf="paramList[0]">
    <h3>Looking at record: {{paramList[1]}}</h3>
    <!-- Add toggle function here -->
    <!-- https://www.geeksforgeeks.org/angular-material-button-toggle/ -->
    <div>
        <mat-button-toggle-group value =2 (change)="onToggleChange($event)">
            <mat-button-toggle value=0>SQL Data Error</mat-button-toggle>
            <mat-button-toggle value=1>SQL Timing Error </mat-button-toggle>
        </mat-button-toggle-group>
    </div>
    <br/>
</div>


<div *ngIf="whichError == 0" >
    <table class = "dataTable" border=1 frame=hsides rules=rows>
        <thead>
            <tr>
                <th>epname</th>
                <th>cname 
                    <select [(ngModel)]="selectedValueData">
                    <option value="">All</option>
                    <option *ngFor="let value of uniqueCustomerNameDataError" [value]="value">{{value}}</option>
                  </select>
                </th>
                <th>errType</th>
                <th>errmsg</th>
                <th>cwurl</th>
                <th>schedguid</th>
                <th>now</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let data of dataError | filterBy:'cname':selectedValueData">
                <td>{{data.epname}}</td>
                <td>{{data.cname}}</td>
                <td>{{data.errType}}</td>
                <td>{{data.errmsg}}</td>
                <td>{{data.cwurl}}</td>
                <td>{{data.schedguid}}</td>
                <td>{{data.now}}</td>
                <td> <button (click)="doSomethignWithData(data)">Send-Info</button> </td>
            </tr>
        </tbody>
    </table>
</div>

<div *ngIf="whichError == 1" >
    <table class = "dataTable" border=1 frame=hsides rules=rows>
        <thead>
            <tr>
                <th>epname</th>
                <th>cname
                    <select [(ngModel)]="selectedValueTiming">
                        <option value="">All</option>
                        <option *ngFor="let value of uniqueCustomerNameTimingError" [value]="value">{{value}}</option>
                    </select>
                </th>
                <th>errType</th>
                <th>errmsg</th>
                <th>cwurl</th>
                <th>schedguid</th>
                <th>awsCronExpression</th>
                <th>now</th>
                <th>paulPulledDateUTC</th>
                <th>scheduleExpectedTimeUTC</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let data of timingError| filterBy:'cname':selectedValueTiming">
                <td>{{data.epname}}</td>
                <td>{{data.cname}}</td>
                <td>{{data.errType}}</td>
                <td>{{data.errmsg}}</td>
                <td>{{data.cwurl}}</td>
                <td>{{data.schedguid}}</td>
                <td>{{data.awsCronExpression}}</td>
                <td>{{data.now}}</td>
                <td>{{data.paulPulledDateUTC}}</td>
                <td>{{data.scheduleExpectedTimeUTC}}</td>
                <td> <button (click)="doSomethignWithData(data)">Send-Info</button> </td>
            </tr>
        </tbody>
    </table>
</div>
